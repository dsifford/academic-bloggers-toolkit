@import 'colors'
@import 'variables'

// Main metabox container
#abt_reflist
    transition $shadow-transition
    h2.hndle
        box-shadow $depth-1
    .inside
        margin 0
        width 254px
    &.fixed
        position fixed
        box-shadow $depth-4
        border solid $border 1px
        z-index 555

#abt-loading
    background $light-gray
    box-shadow $depth-1

// React root
#abt-reflist
    .panel
        display flex
        padding 10px 0
        background $light-gray
        box-shadow $depth-1
        justify-content space-around
    .subpanel
        display flex
        padding 5px 0
        justify-content space-around
    a.abt-reflist-button
        background 0
        border 1px solid transparent
        transition none
        border-radius 2px
        color $dark-gray
        text-decoration none
        text-align center
        line-height 30px
        cursor pointer
        min-width 40px
        $selector = selector()
        &:hover
            box-shadow inset 0 1px 0 white,0 1px 0 rgba(0,0,0,.08)
            border 1px solid $dark-gray
            transition none
        &:active
            @extend {$selector}:hover
            background darken($light-gray, 5)
            box-shadow inset 0 2px 5px -3px rgba(0,0,0,.3)
        &.disabled
            color $disabled
            pointer-events none
        &:focus
            box-shadow none
        span
            pointer-events none
            line-height 30px
            &.insert-inline
                transform rotateY(180deg)
                padding-left 2px
            &.add-reference
                padding-top 2px
                padding-right 3px
            &.remove-reference
                font-weight 900
                padding-right 2px
            &.hamburger-menu
                font-size 2em
                padding 0 8px 6px 0
            &.pin-reflist.fixed
                transform translateX(-3px) rotate(-45deg)

    #abt-reflist-menu
        border-bottom solid $border 1px
        box-shadow inset 0 2px 5px -3px rgba(0,0,0,.3)
        .inner
            display flex
            flex-direction column
            height auto
            #style-select-container
                padding 2px 10px 10px 10px
                margin 0 -5px
    .abt-card
        border-bottom 1px solid $border
        padding 5px 10px
        cursor pointer
        font-weight 300
        user-select none
        &.selected
            border-left solid darken($blue, 5) 3px
            padding 5px 10px 5px 7px
        &:first-of-type
            box-shadow inset 0 2px 5px -3px rgba(0,0,0,.3)
        +prefix-classes('abt-card-')
            .people
                font-size 0.8em
                font-weight 500
            .meta-container
                display flex
                font-size 0.8em
                justify-content space-between
                & > div
                    padding 0 3px
            .source
                font-style italic
                text-overflow ellipsis
                white-space nowrap
                overflow hidden
            .pages
                white-space nowrap
    .list
        transition 0.2s
        overflow-y auto
        overflow-x hidden

    .group-label
        display flex
        justify-content space-between
        cursor pointer
        text-align center
        align-items baseline
        background $light-gray
        box-shadow $depth-1
        > *
            user-select none
        &:hover
            background darken($light-gray, 5)
        .label
            padding 10px
        .badge
            background $blue
            color white
            border-radius 500px
            margin-right 10px
            padding 2px 5px 0

    .menu-enter
        max-height 1px
        overflow hidden
        &.menu-enter-active
            transition max-height .2s linear
            max-height 400px

    .menu-leave
        max-height 400px
        &.menu-leave-active
            transition max-height .1s linear
            max-height 1px
            overflow hidden

    .Grid__cell
        cursor pointer
        div
            font-weight 300
    .Select-value-label
        font-weight 300

// ========== Loading Spinner ===========
.sk-circle
    border 5px solid $light-gray
    margin-left auto
    margin-right auto
    width 40px
    height 40px
    position relative

    .sk-child
        width 100%
        height 100%
        position absolute
        left 0
        top 0

        &:before
            content ''
            display block
            margin 0 auto
            width 15%
            height 15%
            background-color $dark-gray
            border-radius 100%
            animation sk-circleFadeDelay 1.2s infinite ease-in-out both

    for num in 2..12
        .sk-circle{num}
            transform 'rotate(%sdeg)' % (30 * (num - 1))
            &:before
                animation-delay '%ss' % (-2.2 + (1 + (num - 1) * .1))

@keyframes sk-circleFadeDelay
    0%
    39%
    100%
        opacity 0
    40%
        opacity 1
