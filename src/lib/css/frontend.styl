@require 'collections/colors'
@require 'collections/variables'
@require 'citations'

.abt-tooltip
    border-radius: 3px
    box-shadow: $citation-tooltip
    padding: 8px
    position: absolute
    margin: auto
    font-size: 0.75em
    max-width: 500px
    background-color: white
    z-index: 20
    visibility: hidden
    p
        margin: 0 !important

.abt-tooltip_bottom
    animation: fadeInUp .2s

.abt-tooltip_top
    animation: fadeInDown .2s

.abt-tooltip_active
    visibility: visible !important

.abt-tooltip__callout
    content: ''
    position: absolute
    border-width: 8px
    border-style: solid
    pointer-events: none

.abt-tooltip__callout_up
    border-color: transparent transparent white
    top: -15px

.abt-tooltip__callout_down
    border-color: white transparent transparent
    bottom: -15px

.abt-tooltip__close-button-container
    width: 50px
    height: 50px
    position: absolute
    top: -10px
    right: -10px
    text-align: right

.abt-tooltip__close-button
    position: relative
    border-radius: 50%
    width: 26px
    height: 26px
    box-sizing: border-box
    display: inline-block
    cursor: pointer
    vertical-align: middle
    font-style: normal
    color: $light-gray
    background: $dark-gray
    text-indent: -9999px
    transform: rotate(45deg)
    transition: 0.3s

    &:hover
        transform: rotate(-135deg)
        transition: 0.3s

    &:before
        content: ''
        left: 50%
        top: 50%
        box-shadow: inset 0 0 0 32px
        pointer-events: none
        position: absolute
        transform: translate(-50%, -50%)
        height: 2px
        width: 14px

    &:after
        @extends .abt-tooltip__close-button:before
        height: 14px
        width: 2px

@keyframes fadeInUp
    from
        opacity: 0
        transform: translate3d(0, 10px, 0)
    to
        opacity: 1
        transform: none

@keyframes fadeInDown
    from
        opacity: 0
        transform: translate3d(0, -10px, 0)
    to
        opacity: 1
        transform: none

// Deprecations
.abt_tooltip
    @extends .abt-tooltip
.abt_tooltip_arrow
    @extends .abt-tooltip__callout
    &.abt_tooltip_arrow_up
        @extends .abt-tooltip__callout_up
    &.abt_tooltip_arrow_down
        @extends .abt-tooltip__callout_down
.abt_tooltip_touch_close-container
    @extends .abt-tooltip__close-button-container
.abt_tooltip_touch_close
    @extends .abt-tooltip__close-button
